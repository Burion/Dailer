
@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">Welcome</h1>
    <p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
</div>
<div class="container" style="height: 100px, width: 150px">
<canvas id="marksChart" width="150" height="100"></canvas>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.js"></script>
<script language=javascript type="text/javascript">
function radialChart(){
  $.ajax(
    {
        type: "GET",
        url: '/getstring',
        success: function (response) {
            printChart(response);
    }
    });
    }
</script>
<script>
    radialChart();
</script>
<script>
    function printChart(_lb)
    {
        var marksCanvas = document.getElementById("marksChart");
        var data1 = _lb[1].map(function(item) {
        return parseInt(item, 10);
        });
        var data2 = _lb[2].map(function(item) {
        return parseInt(item, 10);
        });
        var marksData = {
        labels: _lb[0],
        

        datasets: [{
            label: "January",
            backgroundColor: "rgba(200,0,0,0.2)",
            data: data1
        }]
        };

        var radarChart = new Chart(marksCanvas, {
        type: 'radar',
        data: marksData
        });
    }
</script>

<script>
    function setMark()
    {
       $.ajax(
        {
        type: "POST",
        url: '/setmark/' + 4,
        success: function(response)
        {
            alert(response);
        }
    }); 
    }
    
</script>

<script type="text/javascript">
        $(document).ready(function () {

            $('#butt').click(function () {
                $.ajax(
                {
                type: "POST",
                url: '/setmark/' + 4,
                success: function(response)
                {
                    radialChart();
                }
                }); 
            });
        });
</script>

<fieldset>
     <input type="button" value="Demo 1" id="butt" />
</fieldset>

